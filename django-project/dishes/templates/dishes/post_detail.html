{% include "ngs/header.html" %}

{% if dish_post %}
  <h1>{{dish_post.dish.name}}</h1>
  <p>{{dish_post.dish.description}}</p>
  <table>
    <tr>
      <td>Last Call</td><td>{{dish_post.last_call}}</td>
    </tr>
    <tr>
      <td>Meal Time</td><td>{{dish_post.meal_time}}</td>
    </tr>
    <tr>
      <td>Serving Price</td><td>${{dish_post.price}}</td>
    </tr>
    <tr>
      <td>Available Servings</td><td>{{dish_post.available_servings}}</td>
    </tr>
    <tr>
      <td>Chef</td><td>{{dish_post.chef.user.username}}</td>
    </tr>
  </table>
  {% if user.is_authenticated and dish_post.available_servings > 0%}
  <form id="order_form" action="order/" method="post">
    {% csrf_token %}
    <label for="num_servings">How many servings would you like to order?</label>
    <input type="number"
           id="num_servings"
           name="num_servings"
           min="0"
           max="{{dish_post.available_servings}}"/>
    <button>Submit</button>
  </form>
  {% endif %}
{% else %}
  <p>Oops... it appears this dish does not exist...</p>
{% endif %}
